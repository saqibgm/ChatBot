version: "3.1"

intents:
  - greet
  - goodbye
  - login
  - help
  - inform
  - deny
  - affirm
  - stop
  - out_of_scope
  - ask_kb
  - clear
  - feedback_positive
  - feedback_negative
  - rating_1
  - rating_2
  - rating_3
  - rating_4
  - rating_5
  # E-Commerce Intents
  - search_products
  - product_details
  - check_stock
  - update_stock
  - track_order
  - get_invoice
  - update_order_status
  - list_orders
  - admin_find_product
  - admin_find_customer
  - admin_get_customer
  - admin_get_customer_details
  - admin_customer_last_orders
  - admin_token_me
  - admin_me

entities:
  # E-Commerce entities
  - product_id
  - product_name
  - order_id
  - order_status
  - stock_quantity
  - category
  - search_query
  - nop_username
  - nop_password
  - customer_id
  - customer_query
  - product_identifier
  - order_limit

slots:
  # E-Commerce slots
  product_id:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: product_id

  order_id:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: order_id

  search_query:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: product_name
      - type: from_entity
        entity: search_query

  stock_quantity:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: stock_quantity

  order_status:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: order_status

  access_token:
    type: text
    influence_conversation: false
    mappings: []

  customer_id:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: customer_id

  customer_query:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: customer_query

  product_identifier:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: product_identifier

  order_limit:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: order_limit

  customer_name:
    type: text
    influence_conversation: false
    mappings: []

  nop_username:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: nop_username

  nop_password:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: nop_password

  is_authenticated:
    type: bool
    influence_conversation: false
    mappings: []

responses:
  # E-Commerce responses
  utter_greet:
    - text: "ğŸ‘‹ **Welcome to our E-Commerce Assistant!**

I can help you with:

ğŸ” **Search Products** - Find products in our catalog
ğŸ“¦ **Product** - Get product details by ID
ğŸ‘¤ **Customer** - Get customer details by ID
ğŸ›’ **Track Orders** - Check your order status

How can I assist you today?"
      buttons:
        - title: "ğŸ” Search Products"
          payload: "/search_products"
        - title: "ğŸ“¦ Product"
          payload: "/product_details"
        - title: "ğŸ‘¤ Customer"
          payload: "/admin_get_customer"
        - title: "ğŸ›’ Track Order"
          payload: "/track_order"

  utter_goodbye:
    - text: "Goodbye! Thanks for shopping with us. Come back soon! ğŸ‘‹"

  utter_help:
    - text: "I can help you with:\n\nğŸ” **Search Products** - Find items in our catalog\nğŸ“¦ **Product** - Get product details by ID\nğŸ‘¤ **Customer** - Get customer details by ID\nğŸ›’ **Track Orders** - Get order status updates\n\nJust tell me what you need!"
      buttons:
        - title: "ğŸ” Search Products"
          payload: "/search_products"
        - title: "ğŸ“¦ Product"
          payload: "/product_details"
        - title: "ğŸ‘¤ Customer"
          payload: "/admin_get_customer"
        - title: "ğŸ›’ Track Order"
          payload: "/track_order"

  utter_ask_product_id:
    - text: "Please provide the **Product ID** (e.g., 123)."

  utter_ask_order_id:
    - text: "Please provide your **Order ID** (e.g., 10001)."

  utter_ask_product_search:
    - text: "ğŸ” What product are you looking for?"

  utter_product_not_found:
    - text: "âŒ Sorry, I couldn't find any products matching '**{search_query}**'. Try a different search term."

  utter_order_not_found:
    - text: "âŒ I couldn't find an order with ID **{order_id}**. Please check the order number."

  utter_out_of_scope:
    - text: "I'm an e-commerce assistant and can help you with products and orders. I can't help with that request."
    - text: "I'm here to help with shopping! Try asking about products or orders."
    
  utter_cleared:
    - text: "Session cleared. How can I help you now?"

  utter_ask_satisfaction:
    - text: "How satisfied are you with our service?"
      buttons:
        - title: "â­ Great"
          payload: '/feedback_positive'
        - title: "ğŸ˜ Not good"
          payload: '/feedback_negative'

  utter_thanks_positive_rating:
    - text: "Thank you for the great feedback! ğŸ‰ Is there anything else I can help you with?"

  utter_ask_improvement:
    - text: "I'm sorry to hear that. What could we do better? Your feedback helps us improve."

  utter_default:
    - text: "I'm not sure I understand. Here's what I can help you with:"
      buttons:
        - title: "ğŸ” Search Products"
          payload: '/search_products'
        - title: "ğŸ“¦ Product"
          payload: '/product_details'
        - title: "ğŸ‘¤ Customer"
          payload: '/admin_get_customer'
        - title: "ğŸ›’ Track Order"
          payload: '/help'

  

actions:
  - action_greet
  - action_kb_search
  - action_nopcommerce_login
  - action_search_products
  - action_get_product_details
  - action_check_stock
  - action_update_stock
  - action_track_order
  - action_get_invoice
  - action_update_order_status
  - action_list_orders
  - action_admin_find_product
  - action_admin_find_customer
  - action_admin_get_customer
  - action_admin_get_customer_details
  - action_admin_customer_last_orders
  - action_admin_token_me
  - action_admin_me

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true