<div class="mb-8">
    <h2 class="text-2xl font-bold text-gray-800">Theme Builder</h2>
    <p class="text-gray-500 mt-1">Create and customize chatbot themes</p>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Theme Editor (2/3 width) -->
    <div class="lg:col-span-2">
        <div class="card p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-gray-800">Theme Settings</h3>
                <select id="theme-selector" onchange="loadTheme(this.value)"
                    class="px-3 py-2 border rounded-lg text-sm">
                    <option value="new">+ New Theme</option>
                </select>
            </div>

            <div class="space-y-4">
                <div class="flex items-center gap-2">
                    <label class="text-sm font-medium text-gray-700 w-20">Name</label>
                    <input type="text" id="theme-name" class="input-field flex-1" placeholder="My Custom Theme">
                </div>

                <!-- Theme Colors Section -->
                <div class="border-t pt-4 mt-4">
                    <h4 class="text-sm font-semibold text-gray-700 mb-3">üé® Theme Colors</h4>
                    <div class="grid grid-cols-3 gap-3">
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Primary</label>
                            <input type="color" id="theme-primary-color" value="#6366f1"
                                class="w-8 h-8 rounded cursor-pointer" onchange="syncColor('primary')">
                            <input type="text" id="theme-primary-color-text" value="#6366f1"
                                class="input-field flex-1 text-xs" oninput="syncColor('primary')">
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Secondary</label>
                            <input type="color" id="theme-secondary-color" value="#8b5cf6"
                                class="w-8 h-8 rounded cursor-pointer">
                            <input type="text" id="theme-secondary-color-text" value="#8b5cf6"
                                class="input-field flex-1 text-xs" oninput="syncColor('secondary')">
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Background</label>
                            <input type="color" id="theme-bg-color" value="#ffffff"
                                class="w-8 h-8 rounded cursor-pointer">
                            <input type="text" id="theme-bg-color-text" value="#ffffff"
                                class="input-field flex-1 text-xs">
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Text</label>
                            <input type="color" id="theme-text-color" value="#1f2937"
                                class="w-8 h-8 rounded cursor-pointer">
                            <input type="text" id="theme-text-color-text" value="#1f2937"
                                class="input-field flex-1 text-xs">
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Font</label>
                            <select id="theme-font" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="Inter">Inter</option>
                                <option value="Roboto">Roboto</option>
                                <option value="Open Sans">Open Sans</option>
                                <option value="Poppins">Poppins</option>
                                <option value="Nunito">Nunito</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Radius</label>
                            <select id="theme-radius" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="8">8px</option>
                                <option value="12" selected>12px</option>
                                <option value="16">16px</option>
                                <option value="24">24px</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Icon Colors Section -->
                <div class="border-t pt-4 mt-4">
                    <h4 class="text-sm font-semibold text-gray-700 mb-3">üé® Icon Colors</h4>
                    <div class="grid grid-cols-3 gap-3">
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Bot</label>
                            <input type="color" id="theme-bot-color" value="#6366f1"
                                class="w-8 h-8 rounded cursor-pointer" onchange="updatePreview()">
                            <input type="text" id="theme-bot-color-text" value="#6366f1"
                                class="input-field w-20 text-xs" oninput="syncIconColor('bot')">
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Button</label>
                            <input type="color" id="theme-user-color" value="#6366f1"
                                class="w-8 h-8 rounded cursor-pointer" onchange="updatePreview()">
                            <input type="text" id="theme-user-color-text" value="#6366f1"
                                class="input-field w-20 text-xs" oninput="syncIconColor('user')">
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Send</label>
                            <input type="color" id="theme-send-color" value="#6366f1"
                                class="w-8 h-8 rounded cursor-pointer" onchange="updatePreview()">
                            <input type="text" id="theme-send-color-text" value="#6366f1"
                                class="input-field w-20 text-xs" oninput="syncIconColor('send')">
                        </div>
                    </div>
                </div>

                <!-- Icons Section -->
                <div class="border-t pt-4 mt-4">
                    <h4 class="text-sm font-semibold text-gray-700 mb-3">üé≠ Icons</h4>
                    <div class="grid grid-cols-3 gap-3">
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Bot</label>
                            <select id="theme-bot-icon" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="ü§ñ">ü§ñ Robot</option>
                                <option value="üëæ">üëæ Monster</option>
                                <option value="üëΩ">üëΩ Alien</option>
                                <option value="üõ∏">üõ∏ UFO</option>
                                <option value="ü¶æ">ü¶æ Arm</option>
                                <option value="ü¶ø">ü¶ø Leg</option>
                                <option value="‚öôÔ∏è">‚öôÔ∏è Gear</option>
                                <option value="üîß">üîß Wrench</option>
                                <option value="üíª">üíª Laptop</option>
                                <option value="üñ•Ô∏è">üñ•Ô∏è Desktop</option>
                                <option value="üß†">üß† Brain</option>
                                <option value="ü§°">ü§° Clown</option>
                                <option value="üëª">üëª Ghost</option>
                                <option value="üé≠">üé≠ Masks</option>
                                <option value="üéÉ">üéÉ Pumpkin</option>
                                <option value="üí¨">üí¨ Chat</option>
                                <option value="üí°">üí° Bulb</option>
                                <option value="‚ö°">‚ö° Bolt</option>
                                <option value="üîÆ">üîÆ Crystal</option>
                                <option value="üåü">üåü Star</option>
                                <option value="‚ú®">‚ú® Sparkle</option>
                                <option value="üéØ">üéØ Target</option>
                                <option value="üíé">üíé Gem</option>
                                <option value="üîµ">üîµ Blue</option>
                                <option value="üü£">üü£ Purple</option>
                                <option value="‚≠ê">‚≠ê Star</option>
                                <option value="üê±">üê± Cat</option>
                                <option value="üê∂">üê∂ Dog</option>
                                <option value="ü¶ä">ü¶ä Fox</option>
                                <option value="üêº">üêº Panda</option>
                                <option value="ü¶â">ü¶â Owl</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">User</label>
                            <select id="theme-user-icon" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="üë§">üë§ Person</option>
                                <option value="üë®">üë® Man</option>
                                <option value="üë©">üë© Woman</option>
                                <option value="üßë">üßë Adult</option>
                                <option value="üë®‚Äçüíº">üë®‚Äçüíº Office</option>
                                <option value="üßë‚Äçüíª">üßë‚Äçüíª Tech</option>
                                <option value="üôÇ">üôÇ Smile</option>
                                <option value="üòä">üòä Happy</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Send</label>
                            <select id="theme-send-icon" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="‚û§">‚û§ Arrow</option>
                                <option value="‚ûú">‚ûú Bold</option>
                                <option value="‚Üí">‚Üí Right</option>
                                <option value="‚ñ∂">‚ñ∂ Play</option>
                                <option value="‚¨Ü">‚¨Ü Up</option>
                                <option value="‚Üó">‚Üó Diagonal</option>
                                <option value="‚úì">‚úì Check</option>
                                <option value="‚è©">‚è© Fast</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Attach</label>
                            <select id="theme-attach-icon" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="üìé">üìé Clip</option>
                                <option value="üìå">üìå Pin</option>
                                <option value="üìÅ">üìÅ Folder</option>
                                <option value="üìÑ">üìÑ Doc</option>
                                <option value="üìã">üìã Board</option>
                                <option value="üì•">üì• Inbox</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Delete</label>
                            <select id="theme-delete-icon" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="üóëÔ∏è">üóëÔ∏è Trash</option>
                                <option value="üóë">üóë Bin</option>
                                <option value="‚ôªÔ∏è">‚ôªÔ∏è Recycle</option>
                                <option value="üßπ">üßπ Broom</option>
                                <option value="üöÆ">üöÆ Litter</option>
                                <option value="ü™£">ü™£ Bucket</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Collapse</label>
                            <select id="theme-collapse-icon" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="‚ûñ">‚ûñ Minus</option>
                                <option value="‚è∑">‚è∑ Down</option>
                                <option value="‚ñΩ">‚ñΩ Tri</option>
                                <option value="‚åÑ">‚åÑ Chev</option>
                                <option value="‚¨á">‚¨á Arrow</option>
                                <option value="üîΩ">üîΩ Btn</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Typography Section -->
                <div class="border-t pt-4 mt-4">
                    <h4 class="text-sm font-semibold text-gray-700 mb-3">üìù Typography</h4>
                    <div class="grid grid-cols-3 gap-3">
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Header</label>
                            <select id="theme-header-size" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="14">14px</option>
                                <option value="16" selected>16px</option>
                                <option value="18">18px</option>
                                <option value="20">20px</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Message</label>
                            <select id="theme-message-size" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="12">12px</option>
                                <option value="14" selected>14px</option>
                                <option value="16">16px</option>
                                <option value="18">18px</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Button</label>
                            <select id="theme-button-size" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="12">12px</option>
                                <option value="13" selected>13px</option>
                                <option value="14">14px</option>
                                <option value="16">16px</option>
                            </select>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700 w-20">Input</label>
                            <select id="theme-input-size" class="input-field w-1/2" onchange="updatePreview()">
                                <option value="13">13px</option>
                                <option value="14" selected>14px</option>
                                <option value="16">16px</option>
                                <option value="18">18px</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="flex items-center gap-2 border-t pt-4 mt-4">
                    <input type="checkbox" id="theme-default" class="w-4 h-4 rounded">
                    <label for="theme-default" class="text-sm text-gray-700">Set as default theme</label>
                </div>
            </div>
        </div>

        <div class="flex justify-end gap-3">
            <button onclick="deleteCurrentTheme()" class="btn-secondary text-red-600">Delete</button>
            <button onclick="saveTheme()" class="btn-primary">Save Theme</button>
        </div>
    </div>

    <!-- Theme Preview (1/3 width) -->
    <div class="lg:col-span-1">
        <div class="card p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">Preview</h3>
            <div id="theme-preview" class="theme-preview bg-gray-100 p-4" style="min-height: 400px;">
                <div id="preview-container" class="bg-white rounded-xl shadow-lg overflow-hidden max-w-sm mx-auto">
                    <div id="preview-header" class="p-4 text-white"
                        style="background: linear-gradient(135deg, #6366f1, #8b5cf6);">
                        <h4 class="font-semibold">IT Support</h4>
                        <p class="text-sm opacity-90">How can I help?</p>
                    </div>
                    <div class="p-4 space-y-3 bg-gray-50">
                        <div class="flex gap-2">
                            <div id="preview-avatar"
                                class="w-8 h-8 rounded-full flex items-center justify-center text-white text-sm"
                                style="background: #6366f1;">B</div>
                            <div class="bg-white p-3 rounded-lg shadow-sm text-sm max-w-[80%]">Hello!
                                How can I assist you today?</div>
                        </div>
                        <div class="flex gap-2 justify-end">
                            <div id="preview-user-msg" class="p-3 rounded-lg text-white text-sm max-w-[80%]"
                                style="background: #6366f1;">My printer isn't working</div>
                        </div>
                    </div>
                    <div class="p-3 border-t bg-white">
                        <div class="flex gap-2">
                            <input type="text" placeholder="Type a message..."
                                class="flex-1 px-3 py-2 bg-gray-100 rounded-full text-sm" disabled>
                            <button id="preview-send-btn"
                                class="w-10 h-10 rounded-full text-white flex items-center justify-center"
                                style="background: #6366f1;">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>